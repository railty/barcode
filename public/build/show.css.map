{
  "version": 3,
  "file": "show.css",
  "sources": [
    "..\\..\\Show.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n\timport { onMount, afterUpdate, tick } from 'svelte';\r\n\timport FormItem from '../components/FormItem.svelte';\r\n\r\n\tonMount(async () => {\r\n\t\tconsole.log(\"on mount\");\r\n\t});\r\n\r\n\tlet options = {\r\n\t\ttext: \"sample\",\r\n\t\tbcid: \"code128\",\r\n\t\tscaleX: 2,\r\n\t\tscaleY: 2,\r\n\t\tincludetext: true,\r\n\t\tincludecheck: true,\r\n\t};\r\n\t\r\n\tlet ean8 = false;\r\n\tlet ean13 = false;\r\n\tlet upca = false;\r\n\tlet code39 = false;\r\n\t$:{\r\n\t\tean8 = isValidEan8(options.text);\r\n\t\tean13 = isValidEan13(options.text);\r\n\t\tupca = isValidUpca(options.text);\r\n\t\tcode39 = isValidCode39(options.text);\r\n\t}\r\n\tlet imageUrl = \"/logo.png\";\r\n\r\n\tfunction checksum_1(str){\r\n\t\tlet checksum = 0;\r\n\t\tlet l = str.length;\r\n\t\tfor (var i = 0; i < l; i += 1) {\r\n\t\t\tlet ic = str.charCodeAt(i) - '0'.charCodeAt(0);\r\n\t\t\tif ((i % 2) != 0) {\r\n\t\t\t\tchecksum = checksum + ic;\r\n\t\t\t} else {\r\n\t\t\t\tchecksum = checksum + (ic * 3);\r\n\t\t\t}\r\n\t\t}\r\n\t\tchecksum = (10 - (checksum % 10)) % 10;\r\n\t\tchecksum = checksum + '0'.charCodeAt(0);\r\n\t\tchecksum = String.fromCharCode(checksum);\r\n\t\treturn checksum;\r\n\t}\r\n\r\n\tfunction checksum_2(str){\r\n\t\tlet checksum = 0;\r\n\t\tlet l = str.length;\r\n\t\tfor (var i = 0; i < l; i += 1) {\r\n\t\t\tlet ic = str.charCodeAt(i) - '0'.charCodeAt(0);\r\n\t\t\tif ((i % 2) == 0) {\r\n\t\t\t\tchecksum = checksum + ic;\r\n\t\t\t} else {\r\n\t\t\t\tchecksum = checksum + (ic * 3);\r\n\t\t\t}\r\n\t\t}\r\n\t\tchecksum = (10 - (checksum % 10)) % 10;\r\n\t\tchecksum = checksum + '0'.charCodeAt(0);\r\n\t\tchecksum = String.fromCharCode(checksum);\r\n\t\treturn checksum;\r\n\t}\r\n\r\n\r\n\tfunction isValidUpca(text){\r\n\t\tif (text.match(/^\\d+$/)){\r\n\t\t\tif (text.length==11) return true;\r\n\t\t\telse if (text.length==12) {\r\n\t\t\t\treturn checksum_1(text.slice(0, -1)) == text.slice(-1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tfunction isValidEan8(text){\r\n\t\tif (text.match(/^\\d+$/)){\r\n\t\t\tif (text.length==7) return true;\r\n\t\t\telse if (text.length==8) {\r\n\t\t\t\treturn checksum_1(text.slice(0, -1)) == text.slice(-1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction isValidEan13(text){\r\n\t\tif (text.match(/^\\d+$/)){\r\n\t\t\tif (text.length==12) return true;\r\n\t\t\telse if (text.length==13) {\r\n\t\t\t\treturn checksum_2(text.slice(0, -1)) == text.slice(-1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tfunction isValidCode39(text){\r\n\t\tif (text.match(/^[0-9A-Z\\+\\-\\*\\/\\%\\.\\$\\s]*$/)) return true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction updateBarcode(e){\r\n\t\toptions.bcid = e.currentTarget.getAttribute(\"bcid\");\r\n\r\n\t\tlet url = `http://localhost:3333/code/${options.text}.png?`;\r\n\t\tfor (let [k, v] of Object.entries(options)) {\r\n\t\t\tif (k!=\"text\") url = url + `${k}=${v}&`;\r\n\t\t}\r\n\t\tlet img = document.getElementById(\"image\");\r\n\t\timg.src = url;\r\n\t\tconsole.log(url);\r\n\t}\r\n</script>\r\n\r\n<div class=\"columns\">\r\n  \t<div class=\"column is-two-thirds\">\r\n\t\t<FormItem label={\"Text\"} >\r\n\t\t\t<div class=\"control\"><input id=\"text\" required class=\"input\" type=\"text\" placeholder=\"text\" bind:value={options.text}></div>\r\n\t\t</FormItem>\r\n\r\n\t\t<button bcid='upca' disabled={upca!=true} class=\"button is-link\" on:click={updateBarcode}>UPC-A</button>\r\n\t\t<button bcid='ean13' disabled={ean13!=true} class=\"button is-link\" on:click={updateBarcode}>EAN-13</button>\r\n\t\t<button bcid='ean8' disabled={ean8!=true} class=\"button is-link\" on:click={updateBarcode}>EAN-8</button>\r\n\r\n\t\t<button bcid='qrcode' class=\"button is-link\" on:click={updateBarcode}>QR Code</button>\r\n\t\t<button bcid='code39' disabled={code39!=true} class=\"button is-link\" on:click={updateBarcode}>Code 39</button>\r\n\t\t<button bcid='code49' class=\"button is-link\" on:click={updateBarcode}>Code 49</button>\r\n\t\t<button bcid='code128' class=\"button is-link\" on:click={updateBarcode}>Code 128</button>\r\n\r\n\t</div>\r\n\t<div class=\"column\">\r\n\t\t<img id=\"image\" src={imageUrl} alt=\"not valid\" />\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t* {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n</style>"
  ],
  "names": [],
  "mappings": "AAqIC,eAAE,CAAC,AACF,UAAU,CAAE,UAAU,AACvB,CAAC"
}